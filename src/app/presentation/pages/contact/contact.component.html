<div class="contact-page">
	<div class="form-card">
		<h2>Contacto</h2>
		<p class="subtitle">Escríbenos y te responderemos lo antes posible.</p>

		<form [formGroup]="contactoForm" (ngSubmit)="onSubmit()" novalidate>
			<label for="nombre">Nombre</label>
			<input id="nombre" type="text" formControlName="nombre" placeholder="Tu nombre" />
			<div class="error" *ngIf="contactoForm.get('nombre')?.touched && contactoForm.get('nombre')?.invalid">
				Nombre requerido (mínimo 2 caracteres).
			</div>

			<label for="email">Correo</label>
			<input id="email" type="email" formControlName="email" placeholder="tu@correo.com" />
			<div class="error" *ngIf="contactoForm.get('email')?.touched && contactoForm.get('email')?.invalid">
				Ingresa un correo válido.
			</div>

			<label for="telefono">Teléfono (opcional)</label>
			<input id="telefono" type="tel" formControlName="telefono" placeholder="(+54) 11 1234-5678" />

			<label for="mensaje">Mensaje</label>
			<textarea id="mensaje" rows="4" formControlName="mensaje" placeholder="¿En qué podemos ayudarte?"></textarea>
			<div class="error" *ngIf="contactoForm.get('mensaje')?.touched && contactoForm.get('mensaje')?.invalid">
				Escribe un mensaje (mínimo 5 caracteres).
			</div>

			<!-- reCAPTCHA: se espera que el proyecto ya tenga el componente instalado/registrado -->
			<div class="captcha-wrapper">
				<re-captcha [siteKey]="siteKey" (resolved)="onCaptchaResolved($event)"></re-captcha>
			</div>

			<button type="submit" class="btn-primary" [disabled]="enviando">{{ enviando ? 'Enviando...' : 'Enviar mensaje'}}</button>
		</form>

		<p class="status" *ngIf="mensajeEstado">{{ mensajeEstado }}</p>
	</div>
</div>
