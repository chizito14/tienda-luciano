
<div class="main-cont">

    @if ( products.length == 0 ) {
		<div flex-col style="align-items: center; row-gap: 12px; color: rgb(69, 68, 68);">
			<p icon style="font-size: 40px;">search_off</p>
			<p ft-20-400>Sin Productos Registrados</p>
		</div>
	} @else {

	    <div class="bs-grid">
		<article
			style="cursor: pointer;"
			class="bs-card"
			*ngFor="let p of products; trackBy: trackById"
		>
			<div class="card-media">
				<img [src]="p.imagen" [alt]="p.description" loading="lazy" (click)="openItem(p); $event.stopPropagation()" />
				<span class="badge-discount" *ngIf="p.discount">{{ p.discount }}</span>
			</div>

			<div class="card-body">
				<p ft-12-500 class="card-title">{{ p.description }}</p>

				<p ft-12-400 class="card-meta" *ngIf="p.rating || p.soldCount">
					<span *ngIf="p.rating">⭐ {{ p.rating }}</span>
					<span *ngIf="p.soldCount"> • {{ p.soldCount }} vendidos</span>
				</p>

				<p ft-16-600 class="card-price">
					<ng-container *ngIf="p.discount; else noDiscount">
						<span class="price-old">{{ formatPrice(p.precio) }}</span>
						<span class="price-new">{{ formatPrice(getDiscountedPrice(p)) }}</span>
					</ng-container>
					<ng-template #noDiscount>
						{{ formatPrice(p.precio) }}
					</ng-template>
				</p>

				<div class="card-actions">
					<button class="btn-primary" (click)="addItem(p)">Agregar</button>
				</div>
			</div>
		</article>
	</div>
    }
</div>